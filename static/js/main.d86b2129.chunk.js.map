{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["array","App","useState","firstItem","secondItem","items","setItems","itemList","setItemList","itemHistory","setItemHistory","rankingDone","setRankingDone","comparsions","setComparsions","maxComparsions","setMaxComparsions","addRank","useCallback","item","newItemList","findIndex","x","rank","haveCompared","history","find","add","remove","undefined","useEffect","init","sort","done","i","curRank","otherArr","filter","a","j","length","compared","onClick","flag","itemAdd","itemRemove","addHistory","arr","newList","map","newHistory","push","className","Math","ceil","disabled","border","b","il","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d86b2129.chunk.js","sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\r\nimport './App.css';\r\n\r\nconst array = [\r\n    \"Belarus\",\r\n    \"France\",\r\n    \"Georgia\",\r\n    \"Germany\",\r\n    \"Kazakhstan\",\r\n    \"Malta\",\r\n    \"Netherlands\",\r\n    \"Poland\",\r\n    \"Russia\",\r\n    \"Serbia\",\r\n    \"Spain\",\r\n    \"Ukraine\"\r\n];\r\n\r\nconst App = () => {\r\n    const [items, setItems] = useState({\r\n        firstItem: \"\",\r\n        secondItem: \"\"\r\n    });\r\n\r\n    const [itemList, setItemList] = useState([]);\r\n    const [itemHistory, setItemHistory] = useState([]);\r\n    const [rankingDone, setRankingDone] = useState(false);\r\n    const [comparsions, setComparsions] = useState(0);\r\n    const [maxComparsions, setMaxComparsions] = useState(0);\r\n\r\n    const addRank = useCallback((item) => {\r\n        let newItemList = [...itemList];\r\n        const itemAddIndex = itemList.findIndex(x => x.item === item);\r\n\r\n        newItemList[itemAddIndex].rank++;\r\n\r\n        setComparsions(comparsions + 1);\r\n        setItemList(newItemList);\r\n    }, [comparsions, itemList]);\r\n\r\n    const haveCompared = useCallback((firstItem, secondItem) => {\r\n        let history = itemHistory.find(x => \r\n            (x.add === firstItem && x.remove === secondItem) || \r\n            (x.add === secondItem && x.remove === firstItem)\r\n        );\r\n\r\n        if (history !== undefined) {\r\n            return [true, history.add];\r\n        }\r\n\r\n        return [false, \"\"];\r\n    }, [itemHistory]);\r\n\r\n    useEffect(() => {\r\n        init(array.sort());\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        let firstItem = \"\", secondItem = \"\";\r\n        let done = false;\r\n\r\n        for (let i = 0; i < itemList.length; i++) {\r\n            const curRank = itemList[i].rank;\r\n            const otherArr = itemList.filter(a => a !== itemList[i]);\r\n            firstItem = itemList[i].item;\r\n            \r\n            for (let j = 0; j < otherArr.length; j++) {\r\n                if (otherArr[j].rank === curRank) {\r\n                    secondItem = otherArr[j].item;\r\n\r\n                    let compared = haveCompared(firstItem, secondItem);\r\n\r\n                    if (compared[0]) {\r\n                        addRank(compared[1]);\r\n                    }\r\n\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (secondItem !== \"\") {\r\n                done = false;\r\n                break;\r\n            }\r\n\r\n            done = true;\r\n        }\r\n\r\n        setRankingDone(done);\r\n\r\n        setItems({\r\n            firstItem: done ? items.firstItem : firstItem,\r\n            secondItem: done ? items.secondItem : secondItem\r\n        });\r\n    }, [addRank, haveCompared, itemList, items.firstItem, items.secondItem]);\r\n\r\n    const onClick = (flag) => {\r\n        let itemAdd = flag === 0 ? items.firstItem : items.secondItem;\r\n        let itemRemove = flag === 0 ? items.secondItem : items.firstItem;\r\n\r\n        addRank(itemAdd);\r\n        addHistory(itemAdd, itemRemove);\r\n    };\r\n\r\n    const init = (arr) => {\r\n        const newList = arr.map(x => {\r\n            return {\r\n                item: x,\r\n                rank: 0\r\n            };\r\n        });\r\n\r\n        setComparsions(0);\r\n        setMaxComparsions((newList.length * (newList.length - 1)) / 2);\r\n        setItemList(newList);\r\n        setItemHistory([]);\r\n    };\r\n\r\n    const addHistory = (itemAdd, itemRemove) => {\r\n        let newHistory = [...itemHistory];\r\n\r\n        newHistory.push({\r\n            add: itemAdd,\r\n            remove: itemRemove\r\n        });\r\n\r\n        setItemHistory(newHistory);\r\n    };\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <h1>Sorter</h1>\r\n\r\n            <p>Approx. {Math.ceil((comparsions / maxComparsions) * 100)}% done</p>\r\n\r\n            <button onClick={() => onClick(0)} disabled={rankingDone} className=\"choose-button\">\r\n                {items.firstItem}\r\n            </button>\r\n\r\n            <button onClick={() => onClick(1)} disabled={rankingDone} className=\"choose-button\">\r\n                {items.secondItem}\r\n            </button>\r\n\r\n            <div className={rankingDone ? 'show' : 'hide'}>\r\n                <table border=\"1\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>#</th>\r\n                            <th>Item</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {\r\n                        itemList.sort((a, b) => b.rank - a.rank).map((il, i) => (\r\n                            <tr key={i}>\r\n                                <td>{i + 1}</td>\r\n                                <td>{il.item}</td>\r\n                            </tr>\r\n                        ))\r\n                    }\r\n                    </tbody>\r\n                </table>\r\n\r\n                <button className=\"reset-button\" onClick={() => init(array.sort())}>\r\n                    Reset\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}